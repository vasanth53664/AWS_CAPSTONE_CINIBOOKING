{% extends 'base.html' %}
{% block content %}
<div class="container" style="text-align: center;">
    <h2 style="margin-bottom: 0.5rem;">{{ movie.title }}</h2>
    <p style="color: var(--text-muted); margin-bottom: 2rem;">{{ movie.time }}</p>

    <form action="/payment" method="GET">
        <input type="hidden" name="movie_title" value="{{ movie.title }}">
        <input type="hidden" name="price" value="{{ movie.price }}">

        <div style="max-width: 300px; margin: 0 auto 2rem auto; text-align: left;">
            <label style="color: var(--text-muted);">Select Theater</label>
            <select name="theater" style="margin-top: 5px;">
                {% for theater in movie.theaters %}
                <option value="{{ theater }}">{{ theater }}</option>
                {% endfor %}
            </select>
        </div>

        <div class="screen"></div>
        <p style="color: var(--text-muted); font-size: 0.8rem; margin-bottom: 1rem;">SCREEN</p>

        <div class="seat-grid">
            {% for i in range(1, 41) %}
                {% set seat_id = "A" ~ i %}
                <div>
                    {% if seat_id in occupied_seats %}
                        <input type="checkbox" disabled>
                        <label class="seat-label occupied"></label>
                    {% else %}
                        <input type="checkbox" id="{{ seat_id }}" name="seats" value="{{ seat_id }}">
                        <label for="{{ seat_id }}" class="seat-label"></label>
                    {% endif %}
                </div>
            {% endfor %}
        </div>
        <button class="btn-primary" style="max-width: 300px; margin-top: 2rem;">Proceed to Payment</button>
    </form>
</div>
{% endblock %}